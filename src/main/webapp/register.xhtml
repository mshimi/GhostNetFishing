<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <link href="styles/style.css" rel="stylesheet" type="text/css"/>
    <title>Registrieren</title>
</h:head>
<h:body>
    <div class="background">
        <div class="login-container register-container">
            <h1>Shea Sepherd</h1>
            <h2>Registrieren</h2>
            <h:form id="registerForm">
                <h:panelGrid columns="2">
                    <h:outputLabel for="firstName" value="Vorname:" styleClass="input-label"/>
                    <h:panelGroup layout="block">
                        <h:inputText required="true" id="firstName" value="#{registerBean.firstName}"
                                     styleClass="input-field" requiredMessage="erforderlich">
                            <f:validateLength minimum="2"/>
                        </h:inputText>
                        <h:message for="firstName" styleClass="validation-message"/>
                    </h:panelGroup>

                    <h:outputLabel for="lastName" value="Nachname:" styleClass="input-label"/>
                    <h:panelGroup layout="block">
                        <h:inputText required="true" id="lastName" value="#{registerBean.lastName}"
                                     styleClass="input-field" requiredMessage="erforderlich"/>
                        <h:message for="lastName" styleClass="validation-message"/>
                    </h:panelGroup>

                    <h:outputLabel for="telephone" value="Telefon:" styleClass="input-label"/>
                    <h:panelGroup layout="block">
                        <h:inputText required="true" id="telephone" value="#{registerBean.telephone}"
                                     styleClass="input-field" requiredMessage="erforderlich" validatorMessage="ungÃ¼ltiges Telephone">
                            <f:validateRegex pattern="^\+?[0-9\s]+$" for="telephone"/>
                        </h:inputText>
                        <h:message for="telephone" styleClass="validation-message"/>
                    </h:panelGroup>

                    <h:outputLabel for="email" value="E-Mail:" styleClass="input-label"/>
                    <h:panelGroup layout="block">
                        <h:inputText required="true" id="email" value="#{registerBean.email}" styleClass="input-field">
                            <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$"/>
                        </h:inputText>
                        <h:message for="email" styleClass="validation-message"/>
                    </h:panelGroup>

                    <h:outputLabel for="password"  value="Passwort:" styleClass="input-label"/>
                    <h:panelGroup layout="block">
                        <h:inputSecret required="true" id="password" value="#{registerBean.password}"
                                       styleClass="input-field" requiredMessage="erforderlich" validatorMessage="nicht >= 6">
                            <f:validateLength minimum="6" for="password"/>
                        </h:inputSecret>
                        <h:message for="password" styleClass="validation-message"/>
                    </h:panelGroup>
                </h:panelGrid>

                <h:commandButton value="Registrieren"
                                 action="#{registerBean.register}"
                                 styleClass="login-button"
                                 actionListener="#{registerBean.validateForm}">
                    <f:ajax execute="@form" render="@form" />
                </h:commandButton>
                <h:messages globalOnly="true" style="color:red;"/>
            </h:form>

            <p:divider align="center">
                <b>ODER</b>
            </p:divider>

            <div class="footer-container">
                <p>
                    Haben Sie bereits ein Konto? <h:link outcome="login.xhtml">Einloggen</h:link>
                </p>
            </div>
        </div>
    </div>
</h:body>
</html>